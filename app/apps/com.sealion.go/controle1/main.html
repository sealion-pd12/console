<html>
<head>
    <meta name="viewport" content="width=device-width, user-scalable=no" />
<script src="components/platform/platform.js"></script>
    <script src="jquery/external/jquery/jquery.js"></script>
    <script type="text/javascript" src="config.js"></script>
    <link rel="import" href="sl-arcade.html">
    <link rel="import" href="sl-accelerometer.html">
<!--    
    <script src="socketio.js"></script>-->

    <script type="text/javascript">
       //var loader;
    //    loader = document.createElement('script');
    //    loader.setAttribute("type", "text/javascript");
    //    loader.setAttribute("src", "http://" + consoleAddress + ":8888/socket.io/socket.io.js");/

//        document.getElementsByTagName("head")[0].appendChild(loader)

//         var socket = io("http://" + consoleAddress + ":8888");
                    //var socket;
          //  $.getScript("http://" + consoleAddress + ":8888/socket.io/socket.io.js", function(){
                            // script is now loaded and executed.
                            // put your dependent JS here.
               // socket = io("http://" + consoleAddress + ":8888");
            //});
                var socket = parent.getSocket();
                console.log(socket);
                document.addEventListener('deviceready', function(){
                    
                    var options ={ frequency: 100 };
                    console.log('watching');
                    this.watchID = navigator.accelerometer.watchAcceleration(function(acceleration){
                       console.log('virar');
    
                            socket.emit('evento', {
                                event: "virar",
                                data: acceleration,
                                component: "nada"
                            });
                    }, function(){console.log('err√£o');}, options);
                    
                }, false);
        
        
        
        
    </script>
    <style>
        body,
        html {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #000000;
        }
    </style>

</head>

<body>
    <table width="100%" height="100%">
        <tr>
            <td width="50">&nbsp;</td>
            <td width="240">
                <sl-arcade color="red" text="B" call="deaccel" type="flat" name="btnB" radius="100"></sl-arcade>
            </td>
            <td>&nbsp;</td>
            <td width="60">
                <sl-arcade color="#3751fa" text="A" call="accel" type="flat" name="btnA" radius="100"></sl-arcade>
            </td>
            <td width="50">&nbsp;</td>
        </tr>
    </table>
    <!--<sl-accel call="virar" frequency="300" name="acelerometro"></sl-accel>-->
    
</body>

</html>